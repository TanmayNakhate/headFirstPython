from selenium import webdriver
from selenium.webdriver.support.ui import Select
import time

driver = webdriver.Chrome("C:\\Program Files (x86)\\Python37-32\\Scripts\\chromedriver.exe")
driver.get("http://newtours.demoaut.com/")
driver.maximize_window()
title = driver.title
print(title)

assert "Welcome: Mercury Tours" in title

driver.find_element_by_link_text("REGISTER").click()
try:
    driver.implicitly_wait(30)
    driver.find_element_by_name("firstName").send_keys("Test")
    driver.find_element_by_name("lastName").send_keys("Testy")
    driver.find_element_by_name("email").send_keys("test@test.com")
    driver.find_element_by_name("password").send_keys("Test123")
    driver.find_element_by_name("confirmPassword").send_keys("Test123")


    select = Select(driver.find_element_by_name("country"))

    select.select_by_index(12)
    time.sleep(10)

    select.select_by_visible_text("EGYPT")

    select.select_by_value("92")
    driver.implicitly_wait(30)

    driver.find_element_by_name("register").click()

    url = driver.current_url
    print(url)
    assert "http://newtours.demoaut.com/create_account_success.php" in url

    driver.find_element_by_link_text("Flights")

finally:
    print ("Success")
    """ driver.quit() """
